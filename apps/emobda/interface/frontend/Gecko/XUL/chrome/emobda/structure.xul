<?xml version="1.0" encoding="utf-8" ?> 
<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>

<!--
	'emobda.xul' by Claude SIMON (http://zeusw.org/).

	 This file is part of 'emobda' software.

	'emobda' is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	'emobda' is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with 'emobda'.  If not, see <http://www.gnu.org/licenses/>.
-->

<!-- $Id$ -->

<page
	id="structurePage"
	title="Structure view and form"
	xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
	xmlns:html="http://www.w3.org/1999/xhtml"
	onload="register( window, 'structure' );"
>
	<script type="text/javascript" src="emobda.js"/>
	<broadcasterset>
		<broadcaster id="bcrStructureItemEdition"/>
		<broadcaster id="bcrStructureItemBrowsing"/>
		<broadcaster id="bcrStructureItemCreation" label="create"/>
		<broadcaster id="bcrStructureItemModification" label="modify"/>
		<broadcaster id="bcrStructureItemDeletion" label="delete"/>
	</broadcasterset>
	<commandset>
		<command id="cmdBrowseStructureItem" observes="bcrStructureItemBrowsing"/>
		
		<command id="cmdCreateStructureItem" observes="bcrStructureItemCreation"/>
		<command id="cmdModifyStructureItem" observes="bcrStructureItemModification"/>
		<command id="cmdDeleteStructureItem" observes="bcrStructureItemDeletion"/>
		
		<command id="cmdApplyStructureItem" label="|OK|" observes="bcrStructureItemEdition"/>
		<command id="cmdCancelStructureItem" label="|Cancel|" observes="bcrStructureItemEdition"/>
	</commandset>
	<hbox flex="1">
		<vbox flex="1">
			<groupbox flex="1">
				<vbox flex="1">
					<tree id="browseTree" flex="1" hidecolumnpicker="true" seltype="single" command="cmdBrowseStructureItem">
						<treecols>
							<treecol id="myTree2-treeCol0" primary="true" label="Structure" flex="1"/>
						</treecols>
					  <treechildren id="items"/>
					</tree>
					<hbox>
						<button command="cmdCreateStructureItem" flex="1"/>
						<button command="cmdModifyStructureItem" flex="1"/>
						<button command="cmdDeleteStructureItem" flex="1"/>
					</hbox>
				</vbox>
			</groupbox>
		</vbox>
		<splitter collapse="none" />
		<vbox flex="1">
			<groupbox flex="1">
				<vbox flex="1">
					<hbox flex="1">
						<vbox flex="1">
							<groupbox>
								<caption label="Name"/>
								<textbox id="nameTextbox" value="Nom" observes="bcrStructureItemEdition"/>
							</groupbox>
							<groupbox>
								<caption label="Name"/>
								<textbox id="commentTextbox" value="Commentaire" observes="bcrStructureItemEdition"/>
							</groupbox>
						</vbox>
					</hbox>
					<deck id="formDeck">
						<box id="tableFormPanel">
							<description>Table Form !</description>
						</box>
						<box id="fieldFormPanel">
							<description>Field Form !</description>
						</box>
					</deck>
					<hbox>
						<button command="cmdApplyStructureItem"/>
						<button command="cmdCancelStructureItem"/>
					</hbox>
				</vbox>
			</groupbox>
		</vbox>
	</hbox>
</page>
	
